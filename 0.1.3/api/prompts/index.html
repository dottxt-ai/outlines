
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Structured text generation with LLMs">
      
      
        <meta name="author" content="The Outlines developers">
      
      
      
        <link rel="prev" href="../models/">
      
      
        <link rel="next" href="../json_schema/">
      
      
      <link rel="icon" href="../../assets/images/logo-simple.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Prompts - Outlines</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/timeago.css">
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-P99D3CL990"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-P99D3CL990",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-P99D3CL990",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Prompts - Outlines" >
      
        <meta  property="og:description"  content="Structured text generation with LLMs" >
      
        <meta  property="og:image"  content="./assets/images/social/api/prompts.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="None" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Prompts - Outlines" >
      
        <meta  name="twitter:description"  content="Structured text generation with LLMs" >
      
        <meta  name="twitter:image"  content="./assets/images/social/api/prompts.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#outlines.prompts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Outlines" class="md-header__button md-logo" aria-label="Outlines" data-md-component="logo">
      
  <img src="../../assets/images/logo-square.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Outlines
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Prompts
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dottxt-ai/outlines" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    dottxt-ai/outlines
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../welcome/" class="md-tabs__link">
          
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../cookbook/" class="md-tabs__link">
        
  
    
  
  Cookbook

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../reference/" class="md-tabs__link">
        
  
    
  
  Docs

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="../" class="md-tabs__link">
        
  
    
  
  API Reference

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../community/" class="md-tabs__link">
        
  
    
  
  Community

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../blog/" class="md-tabs__link">
        
  
    
  
  Blog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Outlines" class="md-nav__button md-logo" aria-label="Outlines" data-md-component="logo">
      
  <img src="../../assets/images/logo-square.svg" alt="logo">

    </a>
    Outlines
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dottxt-ai/outlines" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    dottxt-ai/outlines
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../welcome/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to Outlines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../licence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Licence
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cookbook/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cookbook
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Cookbook
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/classification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Classification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/extraction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Named Entity Extraction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/dating_profiles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generate synthetic data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/chain_of_density/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summarize a document
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/models_playing_chess/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Playing chess
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/simtom/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Perspective-taking prompting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/qa-with-citations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Question-answering with citations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/knowledge_graph_extraction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Knowledge Graph Extraction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/structured_generation_workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structured Generation Workflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/chain_of_thought/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chain of Thought (CoT)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/react_agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ReAct Agent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/atomic_caption/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vision-Language Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/read-pdfs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structured Generation from PDFs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/earnings-reports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Earnings reports to CSV
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/receipt-digitization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Digitizing receipts with vision models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_16" >
        
          
          <label class="md-nav__link" for="__nav_3_16" id="__nav_3_16_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Run on the cloud
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_16">
            <span class="md-nav__icon md-icon"></span>
            Run on the cloud
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/deploy-using-bentoml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BentoML
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/deploy-using-cerebrium/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cerebrium
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cookbook/deploy-using-modal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modal
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Docs
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Generation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Generation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generation/generation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/text/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Text
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/samplers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Samplers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1_4" >
        
          
          <label class="md-nav__link" for="__nav_4_1_4" id="__nav_4_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Structured generation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_4">
            <span class="md-nav__icon md-icon"></span>
            Structured generation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generation/structured_generation_explanation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How does it work?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generation/choices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Classification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generation/regex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Regex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generation/format/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Type constraints
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generation/json/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON (function calling)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generation/cfg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grammar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generation/creating_grammars/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating Grammars
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generation/custom_fsm_ops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom FSM operations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utilities
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Utilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/serve/vllm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serve with vLLM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/serve/lmstudio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serve with LM Studio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/generation/types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/prompting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prompt templating
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Outlines functions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Models
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3_2" >
        
          
          <label class="md-nav__link" for="__nav_4_3_2" id="__nav_4_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Open source
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_2">
            <span class="md-nav__icon md-icon"></span>
            Open source
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/transformers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transformers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/transformers_vision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transformers Vision
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/llamacpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llama.cpp
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/vllm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vLLM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/tgi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TGI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/exllamav2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExllamaV2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/mlxlm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MLX
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/transformers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transformers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3_3" id="__nav_4_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_3">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/openai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Prompts
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Prompts
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts" class="md-nav__link">
    <span class="md-ellipsis">
      prompts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.Prompt" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prompt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.Prompt.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__
    </span>
  </a>
  
    <nav class="md-nav" aria-label="__call__">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.Prompt.__call__--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_fn_args" class="md-nav__link">
    <span class="md-ellipsis">
      get_fn_args
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_fn_description" class="md-nav__link">
    <span class="md-ellipsis">
      get_fn_description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_fn_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_fn_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_fn_signature" class="md-nav__link">
    <span class="md-ellipsis">
      get_fn_signature
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_fn_source" class="md-nav__link">
    <span class="md-ellipsis">
      get_fn_source
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_schema_dict" class="md-nav__link">
    <span class="md-ellipsis">
      get_schema_dict
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_schema_pydantic" class="md-nav__link">
    <span class="md-ellipsis">
      get_schema_pydantic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.parse_pydantic_schema" class="md-nav__link">
    <span class="md-ellipsis">
      parse_pydantic_schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.prompt" class="md-nav__link">
    <span class="md-ellipsis">
      prompt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="prompt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.prompt--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.render" class="md-nav__link">
    <span class="md-ellipsis">
      render
    </span>
  </a>
  
    <nav class="md-nav" aria-label="render">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.render--examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.render--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.render--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../json_schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Json schema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parsing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parsing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../regex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Regex
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../samplers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Samplers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../community/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Community
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Community
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/feedback/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feedback ü´∂
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://discord.com/invite/R9DSu34mGd" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chat with us ‚òï
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to contribute üèóÔ∏è
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Your projects üëè
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/versioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Versioning Guide üìå
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts" class="md-nav__link">
    <span class="md-ellipsis">
      prompts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.Prompt" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prompt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.Prompt.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      __call__
    </span>
  </a>
  
    <nav class="md-nav" aria-label="__call__">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.Prompt.__call__--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_fn_args" class="md-nav__link">
    <span class="md-ellipsis">
      get_fn_args
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_fn_description" class="md-nav__link">
    <span class="md-ellipsis">
      get_fn_description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_fn_name" class="md-nav__link">
    <span class="md-ellipsis">
      get_fn_name
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_fn_signature" class="md-nav__link">
    <span class="md-ellipsis">
      get_fn_signature
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_fn_source" class="md-nav__link">
    <span class="md-ellipsis">
      get_fn_source
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_schema_dict" class="md-nav__link">
    <span class="md-ellipsis">
      get_schema_dict
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.get_schema_pydantic" class="md-nav__link">
    <span class="md-ellipsis">
      get_schema_pydantic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.parse_pydantic_schema" class="md-nav__link">
    <span class="md-ellipsis">
      parse_pydantic_schema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.prompt" class="md-nav__link">
    <span class="md-ellipsis">
      prompt
    </span>
  </a>
  
    <nav class="md-nav" aria-label="prompt">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.prompt--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#outlines.prompts.render" class="md-nav__link">
    <span class="md-ellipsis">
      render
    </span>
  </a>
  
    <nav class="md-nav" aria-label="render">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.render--examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.render--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outlines.prompts.render--returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Prompts</h1>

<div class="doc doc-object doc-module">



<a id="outlines.prompts"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="outlines.prompts.Prompt" class="doc doc-heading">
            <code>Prompt</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">


        <p>Represents a prompt function.</p>
<p>We return a <code>Prompt</code> class instead of a simple function so the
template defined in prompt functions can be accessed.</p>






              <details class="quote">
                <summary>Source code in <code>outlines/prompts.py</code></summary>
                <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-13">13</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-14">14</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-15">15</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-16">16</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-17">17</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-18">18</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-19">19</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-20">20</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-21">21</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-22">22</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-23">23</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-24">24</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-25">25</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-26">26</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-27">27</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-28">28</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-29">29</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-30">30</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-31">31</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-32">32</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-33">33</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-34">34</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-35">35</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-36">36</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-37">37</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-38">38</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-39">39</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-40">40</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-41">41</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-42">42</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13"></a><span style="color: #d08770">@dataclass</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14"></a><span style="color: #81a1c1; font-weight: bold">class</span> <span style="color: #8fbcbb">Prompt</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15"></a><span style="color: #d8dee9">    </span><span style="color: #616e87">&quot;&quot;&quot;Represents a prompt function.</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16"></a>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17"></a><span style="color: #616e87">    We return a `Prompt` class instead of a simple function so the</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18"></a><span style="color: #616e87">    template defined in prompt functions can be accessed.</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19"></a>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20"></a><span style="color: #616e87">    &quot;&quot;&quot;</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21"></a>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22"></a>    <span style="color: #d8dee9">template</span><span style="color: #eceff4">:</span> <span style="color: #81a1c1">str</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23"></a>    <span style="color: #d8dee9">signature</span><span style="color: #eceff4">:</span> <span style="color: #d8dee9">inspect</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">Signature</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24"></a>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25"></a>    <span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">__post_init__</span><span style="color: #eceff4">(</span><span style="color: #81a1c1">self</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26"></a>        <span style="color: #81a1c1">self</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">parameters</span><span style="color: #eceff4">:</span> <span style="color: #d8dee9">List</span><span style="color: #eceff4">[</span><span style="color: #81a1c1">str</span><span style="color: #eceff4">]</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #81a1c1">list</span><span style="color: #eceff4">(</span><span style="color: #81a1c1">self</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">signature</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">parameters</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">keys</span><span style="color: #eceff4">())</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27"></a>        <span style="color: #81a1c1">self</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">jinja_environment</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">create_jinja_template</span><span style="color: #eceff4">(</span><span style="color: #81a1c1">self</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">template</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28"></a>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29"></a>    <span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">__call__</span><span style="color: #eceff4">(</span><span style="color: #81a1c1">self</span><span style="color: #eceff4">,</span> <span style="color: #81a1c1; font-weight: bold">*</span><span style="color: #d8dee9">args</span><span style="color: #eceff4">,</span> <span style="color: #81a1c1; font-weight: bold">**</span><span style="color: #d8dee9">kwargs</span><span style="color: #eceff4">)</span> <span style="color: #81a1c1; font-weight: bold">-&gt;</span> <span style="color: #81a1c1">str</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30"></a><span style="color: #d8dee9">        </span><span style="color: #616e87">&quot;&quot;&quot;Render and return the template.</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span style="color: #616e87">        Returns</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a><span style="color: #616e87">        -------</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34"></a><span style="color: #616e87">        The rendered template as a Python ``str``.</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35"></a>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span style="color: #616e87">        &quot;&quot;&quot;</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37"></a>        <span style="color: #d8dee9">bound_arguments</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #81a1c1">self</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">signature</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">bind</span><span style="color: #eceff4">(</span><span style="color: #81a1c1; font-weight: bold">*</span><span style="color: #d8dee9">args</span><span style="color: #eceff4">,</span> <span style="color: #81a1c1; font-weight: bold">**</span><span style="color: #d8dee9">kwargs</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a>        <span style="color: #d8dee9">bound_arguments</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">apply_defaults</span><span style="color: #eceff4">()</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a>        <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #81a1c1">self</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">jinja_environment</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">render</span><span style="color: #eceff4">(</span><span style="color: #81a1c1; font-weight: bold">**</span><span style="color: #d8dee9">bound_arguments</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">arguments</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40"></a>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41"></a>    <span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">__str__</span><span style="color: #eceff4">(</span><span style="color: #81a1c1">self</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42"></a>        <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #81a1c1">self</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">template</span>
</span></code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="outlines.prompts.Prompt.__call__" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #88c0d0">__call__</span><span style="color: #eceff4">(</span><span style="color: #81a1c1; font-weight: bold">*</span><span style="color: #d8dee9">args</span><span style="color: #eceff4">,</span> <span style="color: #81a1c1; font-weight: bold">**</span><span style="color: #d8dee9">kwargs</span><span style="color: #eceff4">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Render and return the template.</p>
<h5 id="outlines.prompts.Prompt.__call__--returns">Returns</h5>
<p>The rendered template as a Python <code>str</code>.</p>

            <details class="quote">
              <summary>Source code in <code>outlines/prompts.py</code></summary>
              <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-29">29</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-30">30</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-31">31</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-32">32</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-33">33</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-34">34</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-35">35</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-36">36</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-37">37</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-38">38</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-39">39</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29"></a><span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">__call__</span><span style="color: #eceff4">(</span><span style="color: #81a1c1">self</span><span style="color: #eceff4">,</span> <span style="color: #81a1c1; font-weight: bold">*</span><span style="color: #d8dee9">args</span><span style="color: #eceff4">,</span> <span style="color: #81a1c1; font-weight: bold">**</span><span style="color: #d8dee9">kwargs</span><span style="color: #eceff4">)</span> <span style="color: #81a1c1; font-weight: bold">-&gt;</span> <span style="color: #81a1c1">str</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30"></a><span style="color: #d8dee9">    </span><span style="color: #616e87">&quot;&quot;&quot;Render and return the template.</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31"></a>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32"></a><span style="color: #616e87">    Returns</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33"></a><span style="color: #616e87">    -------</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34"></a><span style="color: #616e87">    The rendered template as a Python ``str``.</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35"></a>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36"></a><span style="color: #616e87">    &quot;&quot;&quot;</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37"></a>    <span style="color: #d8dee9">bound_arguments</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #81a1c1">self</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">signature</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">bind</span><span style="color: #eceff4">(</span><span style="color: #81a1c1; font-weight: bold">*</span><span style="color: #d8dee9">args</span><span style="color: #eceff4">,</span> <span style="color: #81a1c1; font-weight: bold">**</span><span style="color: #d8dee9">kwargs</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span style="color: #d8dee9">bound_arguments</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">apply_defaults</span><span style="color: #eceff4">()</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #81a1c1">self</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">jinja_environment</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">render</span><span style="color: #eceff4">(</span><span style="color: #81a1c1; font-weight: bold">**</span><span style="color: #d8dee9">bound_arguments</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">arguments</span><span style="color: #eceff4">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="outlines.prompts.get_fn_args" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #d8dee9">get_fn_args</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Returns the arguments of a function with annotations and default values if provided.</p>

            <details class="quote">
              <summary>Source code in <code>outlines/prompts.py</code></summary>
              <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-235">235</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-236">236</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-237">237</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-238">238</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-239">239</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-240">240</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-241">241</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-242">242</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-243">243</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-244">244</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-235"><a id="__codelineno-0-235" name="__codelineno-0-235"></a><span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">get_fn_args</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">:</span> <span style="color: #d8dee9">Callable</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-236"><a id="__codelineno-0-236" name="__codelineno-0-236"></a><span style="color: #d8dee9">    </span><span style="color: #616e87">&quot;&quot;&quot;Returns the arguments of a function with annotations and default values if provided.&quot;&quot;&quot;</span>
</span><span id="__span-0-237"><a id="__codelineno-0-237" name="__codelineno-0-237"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #81a1c1; font-weight: bold">not</span> <span style="color: #81a1c1">callable</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-238"><a id="__codelineno-0-238" name="__codelineno-0-238"></a>        <span style="color: #81a1c1; font-weight: bold">raise</span> <span style="color: #bf616a">TypeError</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&quot;The `args` filter only applies to callables.&quot;</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-239"><a id="__codelineno-0-239" name="__codelineno-0-239"></a>
</span><span id="__span-0-240"><a id="__codelineno-0-240" name="__codelineno-0-240"></a>    <span style="color: #d8dee9">arg_str_list</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #eceff4">[]</span>
</span><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241"></a>    <span style="color: #d8dee9">signature</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">inspect</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">signature</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242"></a>    <span style="color: #d8dee9">arg_str_list</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #eceff4">[</span><span style="color: #81a1c1">str</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">param</span><span style="color: #eceff4">)</span> <span style="color: #81a1c1; font-weight: bold">for</span> <span style="color: #d8dee9">param</span> <span style="color: #81a1c1; font-weight: bold">in</span> <span style="color: #d8dee9">signature</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">parameters</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">values</span><span style="color: #eceff4">()]</span>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243"></a>    <span style="color: #d8dee9">arg_str</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #a3be8c">&quot;, &quot;</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">join</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">arg_str_list</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244"></a>    <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #d8dee9">arg_str</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="outlines.prompts.get_fn_description" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #d8dee9">get_fn_description</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Returns the first line of a callable's docstring.</p>

            <details class="quote">
              <summary>Source code in <code>outlines/prompts.py</code></summary>
              <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-247">247</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-248">248</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-249">249</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-250">250</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-251">251</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-252">252</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-253">253</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-254">254</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-255">255</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-256">256</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-257">257</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-258">258</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247"></a><span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">get_fn_description</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">:</span> <span style="color: #d8dee9">Callable</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-248"><a id="__codelineno-0-248" name="__codelineno-0-248"></a><span style="color: #d8dee9">    </span><span style="color: #616e87">&quot;&quot;&quot;Returns the first line of a callable&#39;s docstring.&quot;&quot;&quot;</span>
</span><span id="__span-0-249"><a id="__codelineno-0-249" name="__codelineno-0-249"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #81a1c1; font-weight: bold">not</span> <span style="color: #81a1c1">callable</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-250"><a id="__codelineno-0-250" name="__codelineno-0-250"></a>        <span style="color: #81a1c1; font-weight: bold">raise</span> <span style="color: #bf616a">TypeError</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&quot;The `description` filter only applies to callables.&quot;</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-251"><a id="__codelineno-0-251" name="__codelineno-0-251"></a>
</span><span id="__span-0-252"><a id="__codelineno-0-252" name="__codelineno-0-252"></a>    <span style="color: #d8dee9">docstring</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">inspect</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">getdoc</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-253"><a id="__codelineno-0-253" name="__codelineno-0-253"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #d8dee9">docstring</span> <span style="color: #81a1c1; font-weight: bold">is</span> <span style="color: #81a1c1; font-weight: bold">None</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-254"><a id="__codelineno-0-254" name="__codelineno-0-254"></a>        <span style="color: #d8dee9">description</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #a3be8c">&quot;&quot;</span>
</span><span id="__span-0-255"><a id="__codelineno-0-255" name="__codelineno-0-255"></a>    <span style="color: #81a1c1; font-weight: bold">else</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-256"><a id="__codelineno-0-256" name="__codelineno-0-256"></a>        <span style="color: #d8dee9">description</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">docstring</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">split</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&quot;</span><span style="color: #ebcb8b">\n</span><span style="color: #a3be8c">&quot;</span><span style="color: #eceff4">)[</span><span style="color: #b48ead">0</span><span style="color: #eceff4">]</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">strip</span><span style="color: #eceff4">()</span>
</span><span id="__span-0-257"><a id="__codelineno-0-257" name="__codelineno-0-257"></a>
</span><span id="__span-0-258"><a id="__codelineno-0-258" name="__codelineno-0-258"></a>    <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #d8dee9">description</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="outlines.prompts.get_fn_name" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #d8dee9">get_fn_name</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Returns the name of a callable.</p>

            <details class="quote">
              <summary>Source code in <code>outlines/prompts.py</code></summary>
              <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-222">222</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-223">223</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-224">224</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-225">225</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-226">226</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-227">227</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-228">228</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-229">229</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-230">230</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-231">231</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-232">232</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-222"><a id="__codelineno-0-222" name="__codelineno-0-222"></a><span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">get_fn_name</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">:</span> <span style="color: #d8dee9">Callable</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-223"><a id="__codelineno-0-223" name="__codelineno-0-223"></a><span style="color: #d8dee9">    </span><span style="color: #616e87">&quot;&quot;&quot;Returns the name of a callable.&quot;&quot;&quot;</span>
</span><span id="__span-0-224"><a id="__codelineno-0-224" name="__codelineno-0-224"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #81a1c1; font-weight: bold">not</span> <span style="color: #81a1c1">callable</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-225"><a id="__codelineno-0-225" name="__codelineno-0-225"></a>        <span style="color: #81a1c1; font-weight: bold">raise</span> <span style="color: #bf616a">TypeError</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&quot;The `name` filter only applies to callables.&quot;</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-226"><a id="__codelineno-0-226" name="__codelineno-0-226"></a>
</span><span id="__span-0-227"><a id="__codelineno-0-227" name="__codelineno-0-227"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #81a1c1; font-weight: bold">not</span> <span style="color: #81a1c1">hasattr</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">,</span> <span style="color: #a3be8c">&quot;__name__&quot;</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-228"><a id="__codelineno-0-228" name="__codelineno-0-228"></a>        <span style="color: #d8dee9">name</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #81a1c1">type</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">)</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">__name__</span>
</span><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229"></a>    <span style="color: #81a1c1; font-weight: bold">else</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230"></a>        <span style="color: #d8dee9">name</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">fn</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">__name__</span>
</span><span id="__span-0-231"><a id="__codelineno-0-231" name="__codelineno-0-231"></a>
</span><span id="__span-0-232"><a id="__codelineno-0-232" name="__codelineno-0-232"></a>    <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #d8dee9">name</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="outlines.prompts.get_fn_signature" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #d8dee9">get_fn_signature</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the signature of a callable.</p>

            <details class="quote">
              <summary>Source code in <code>outlines/prompts.py</code></summary>
              <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-276">276</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-277">277</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-278">278</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-279">279</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-280">280</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-281">281</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-282">282</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-283">283</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-284">284</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-285">285</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-286">286</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-287">287</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-288">288</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-276"><a id="__codelineno-0-276" name="__codelineno-0-276"></a><span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">get_fn_signature</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">:</span> <span style="color: #d8dee9">Callable</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-277"><a id="__codelineno-0-277" name="__codelineno-0-277"></a><span style="color: #d8dee9">    </span><span style="color: #616e87">&quot;&quot;&quot;Return the signature of a callable.&quot;&quot;&quot;</span>
</span><span id="__span-0-278"><a id="__codelineno-0-278" name="__codelineno-0-278"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #81a1c1; font-weight: bold">not</span> <span style="color: #81a1c1">callable</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-279"><a id="__codelineno-0-279" name="__codelineno-0-279"></a>        <span style="color: #81a1c1; font-weight: bold">raise</span> <span style="color: #bf616a">TypeError</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&quot;The `source` filter only applies to callables.&quot;</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-280"><a id="__codelineno-0-280" name="__codelineno-0-280"></a>
</span><span id="__span-0-281"><a id="__codelineno-0-281" name="__codelineno-0-281"></a>    <span style="color: #d8dee9">source</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">textwrap</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">dedent</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">inspect</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">getsource</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">))</span>
</span><span id="__span-0-282"><a id="__codelineno-0-282" name="__codelineno-0-282"></a>    <span style="color: #d8dee9">re_search</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">re</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">search</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">re</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">compile</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">r&quot;\(([^)]+)\)&quot;</span><span style="color: #eceff4">),</span> <span style="color: #d8dee9">source</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-283"><a id="__codelineno-0-283" name="__codelineno-0-283"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #d8dee9">re_search</span> <span style="color: #81a1c1; font-weight: bold">is</span> <span style="color: #81a1c1; font-weight: bold">None</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-284"><a id="__codelineno-0-284" name="__codelineno-0-284"></a>        <span style="color: #d8dee9">signature</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #a3be8c">&quot;&quot;</span>
</span><span id="__span-0-285"><a id="__codelineno-0-285" name="__codelineno-0-285"></a>    <span style="color: #81a1c1; font-weight: bold">else</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-286"><a id="__codelineno-0-286" name="__codelineno-0-286"></a>        <span style="color: #d8dee9">signature</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">re_search</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">group</span><span style="color: #eceff4">(</span><span style="color: #b48ead">1</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-287"><a id="__codelineno-0-287" name="__codelineno-0-287"></a>
</span><span id="__span-0-288"><a id="__codelineno-0-288" name="__codelineno-0-288"></a>    <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #d8dee9">signature</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="outlines.prompts.get_fn_source" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #d8dee9">get_fn_source</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the source code of a callable.</p>

            <details class="quote">
              <summary>Source code in <code>outlines/prompts.py</code></summary>
              <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-261">261</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-262">262</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-263">263</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-264">264</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-265">265</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-266">266</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-267">267</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-268">268</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-269">269</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-270">270</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-271">271</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-272">272</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-273">273</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-261"><a id="__codelineno-0-261" name="__codelineno-0-261"></a><span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">get_fn_source</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">:</span> <span style="color: #d8dee9">Callable</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-262"><a id="__codelineno-0-262" name="__codelineno-0-262"></a><span style="color: #d8dee9">    </span><span style="color: #616e87">&quot;&quot;&quot;Return the source code of a callable.&quot;&quot;&quot;</span>
</span><span id="__span-0-263"><a id="__codelineno-0-263" name="__codelineno-0-263"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #81a1c1; font-weight: bold">not</span> <span style="color: #81a1c1">callable</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-264"><a id="__codelineno-0-264" name="__codelineno-0-264"></a>        <span style="color: #81a1c1; font-weight: bold">raise</span> <span style="color: #bf616a">TypeError</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&quot;The `source` filter only applies to callables.&quot;</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-265"><a id="__codelineno-0-265" name="__codelineno-0-265"></a>
</span><span id="__span-0-266"><a id="__codelineno-0-266" name="__codelineno-0-266"></a>    <span style="color: #d8dee9">source</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">textwrap</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">dedent</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">inspect</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">getsource</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">))</span>
</span><span id="__span-0-267"><a id="__codelineno-0-267" name="__codelineno-0-267"></a>    <span style="color: #d8dee9">re_search</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">re</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">search</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">re</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">compile</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">r&quot;(\bdef\b.*)&quot;</span><span style="color: #eceff4">,</span> <span style="color: #d8dee9">re</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">DOTALL</span><span style="color: #eceff4">),</span> <span style="color: #d8dee9">source</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-268"><a id="__codelineno-0-268" name="__codelineno-0-268"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #d8dee9">re_search</span> <span style="color: #81a1c1; font-weight: bold">is</span> <span style="color: #81a1c1; font-weight: bold">not</span> <span style="color: #81a1c1; font-weight: bold">None</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-269"><a id="__codelineno-0-269" name="__codelineno-0-269"></a>        <span style="color: #d8dee9">source</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">re_search</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">group</span><span style="color: #eceff4">(</span><span style="color: #b48ead">0</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-270"><a id="__codelineno-0-270" name="__codelineno-0-270"></a>    <span style="color: #81a1c1; font-weight: bold">else</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-271"><a id="__codelineno-0-271" name="__codelineno-0-271"></a>        <span style="color: #81a1c1; font-weight: bold">raise</span> <span style="color: #bf616a">TypeError</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&quot;Could not read the function&#39;s source code&quot;</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-272"><a id="__codelineno-0-272" name="__codelineno-0-272"></a>
</span><span id="__span-0-273"><a id="__codelineno-0-273" name="__codelineno-0-273"></a>    <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #d8dee9">source</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="outlines.prompts.get_schema_dict" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #d8dee9">get_schema_dict</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">model</span><span style="color: #eceff4">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return a pretty-printed dictionary</p>

            <details class="quote">
              <summary>Source code in <code>outlines/prompts.py</code></summary>
              <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-298">298</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-299">299</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-300">300</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-301">301</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-298"><a id="__codelineno-0-298" name="__codelineno-0-298"></a><span style="color: #d08770">@get_schema</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">register</span><span style="color: #eceff4">(</span><span style="color: #81a1c1">dict</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-299"><a id="__codelineno-0-299" name="__codelineno-0-299"></a><span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">get_schema_dict</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">model</span><span style="color: #eceff4">:</span> <span style="color: #d8dee9">Dict</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-300"><a id="__codelineno-0-300" name="__codelineno-0-300"></a><span style="color: #d8dee9">    </span><span style="color: #616e87">&quot;&quot;&quot;Return a pretty-printed dictionary&quot;&quot;&quot;</span>
</span><span id="__span-0-301"><a id="__codelineno-0-301" name="__codelineno-0-301"></a>    <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #d8dee9">json</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">dumps</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">model</span><span style="color: #eceff4">,</span> <span style="color: #d8dee9">indent</span><span style="color: #81a1c1; font-weight: bold">=</span><span style="color: #b48ead">2</span><span style="color: #eceff4">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="outlines.prompts.get_schema_pydantic" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #d8dee9">get_schema_pydantic</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">model</span><span style="color: #eceff4">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the schema of a Pydantic model.</p>

            <details class="quote">
              <summary>Source code in <code>outlines/prompts.py</code></summary>
              <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-304">304</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-305">305</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-306">306</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-307">307</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-308">308</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-309">309</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-310">310</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-311">311</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-312">312</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-313">313</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-314">314</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-315">315</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-316">316</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-317">317</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-318">318</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-319">319</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-320">320</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-304"><a id="__codelineno-0-304" name="__codelineno-0-304"></a><span style="color: #d08770">@get_schema</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">register</span><span style="color: #eceff4">(</span><span style="color: #81a1c1">type</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">BaseModel</span><span style="color: #eceff4">))</span>
</span><span id="__span-0-305"><a id="__codelineno-0-305" name="__codelineno-0-305"></a><span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">get_schema_pydantic</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">model</span><span style="color: #eceff4">:</span> <span style="color: #d8dee9">Type</span><span style="color: #eceff4">[</span><span style="color: #d8dee9">BaseModel</span><span style="color: #eceff4">]):</span>
</span><span id="__span-0-306"><a id="__codelineno-0-306" name="__codelineno-0-306"></a><span style="color: #d8dee9">    </span><span style="color: #616e87">&quot;&quot;&quot;Return the schema of a Pydantic model.&quot;&quot;&quot;</span>
</span><span id="__span-0-307"><a id="__codelineno-0-307" name="__codelineno-0-307"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #81a1c1; font-weight: bold">not</span> <span style="color: #81a1c1">type</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">model</span><span style="color: #eceff4">)</span> <span style="color: #81a1c1; font-weight: bold">==</span> <span style="color: #81a1c1">type</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">BaseModel</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-308"><a id="__codelineno-0-308" name="__codelineno-0-308"></a>        <span style="color: #81a1c1; font-weight: bold">raise</span> <span style="color: #bf616a">TypeError</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&quot;The `schema` filter only applies to Pydantic models.&quot;</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-309"><a id="__codelineno-0-309" name="__codelineno-0-309"></a>
</span><span id="__span-0-310"><a id="__codelineno-0-310" name="__codelineno-0-310"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #81a1c1">hasattr</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">model</span><span style="color: #eceff4">,</span> <span style="color: #a3be8c">&quot;model_json_schema&quot;</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-311"><a id="__codelineno-0-311" name="__codelineno-0-311"></a>        <span style="color: #d8dee9">def_key</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #a3be8c">&quot;$defs&quot;</span>
</span><span id="__span-0-312"><a id="__codelineno-0-312" name="__codelineno-0-312"></a>        <span style="color: #d8dee9">raw_schema</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">model</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">model_json_schema</span><span style="color: #eceff4">()</span>
</span><span id="__span-0-313"><a id="__codelineno-0-313" name="__codelineno-0-313"></a>    <span style="color: #81a1c1; font-weight: bold">else</span><span style="color: #eceff4">:</span>  <span style="color: #616e87; font-style: italic"># pragma: no cover</span>
</span><span id="__span-0-314"><a id="__codelineno-0-314" name="__codelineno-0-314"></a>        <span style="color: #d8dee9">def_key</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #a3be8c">&quot;definitions&quot;</span>
</span><span id="__span-0-315"><a id="__codelineno-0-315" name="__codelineno-0-315"></a>        <span style="color: #d8dee9">raw_schema</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">model</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">schema</span><span style="color: #eceff4">()</span>
</span><span id="__span-0-316"><a id="__codelineno-0-316" name="__codelineno-0-316"></a>
</span><span id="__span-0-317"><a id="__codelineno-0-317" name="__codelineno-0-317"></a>    <span style="color: #d8dee9">definitions</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">raw_schema</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">get</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">def_key</span><span style="color: #eceff4">,</span> <span style="color: #81a1c1; font-weight: bold">None</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-318"><a id="__codelineno-0-318" name="__codelineno-0-318"></a>    <span style="color: #d8dee9">schema</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">parse_pydantic_schema</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">raw_schema</span><span style="color: #eceff4">,</span> <span style="color: #d8dee9">definitions</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-319"><a id="__codelineno-0-319" name="__codelineno-0-319"></a>
</span><span id="__span-0-320"><a id="__codelineno-0-320" name="__codelineno-0-320"></a>    <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #d8dee9">json</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">dumps</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">schema</span><span style="color: #eceff4">,</span> <span style="color: #d8dee9">indent</span><span style="color: #81a1c1; font-weight: bold">=</span><span style="color: #b48ead">2</span><span style="color: #eceff4">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="outlines.prompts.parse_pydantic_schema" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #d8dee9">parse_pydantic_schema</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">raw_schema</span><span style="color: #eceff4">,</span> <span style="color: #d8dee9">definitions</span><span style="color: #eceff4">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Parse the output of <code>Basemodel.[schema|model_json_schema]()</code>.</p>
<p>This recursively follows the references to other schemas in case
of nested models. Other schemas are stored under the "definitions"
key in the schema of the top-level model.</p>

            <details class="quote">
              <summary>Source code in <code>outlines/prompts.py</code></summary>
              <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-323">323</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-324">324</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-325">325</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-326">326</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-327">327</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-328">328</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-329">329</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-330">330</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-331">331</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-332">332</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-333">333</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-334">334</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-335">335</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-336">336</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-337">337</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-338">338</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-339">339</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-340">340</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-341">341</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-342">342</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-343">343</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-323"><a id="__codelineno-0-323" name="__codelineno-0-323"></a><span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">parse_pydantic_schema</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">raw_schema</span><span style="color: #eceff4">,</span> <span style="color: #d8dee9">definitions</span><span style="color: #eceff4">):</span>
</span><span id="__span-0-324"><a id="__codelineno-0-324" name="__codelineno-0-324"></a><span style="color: #d8dee9">    </span><span style="color: #616e87">&quot;&quot;&quot;Parse the output of `Basemodel.[schema|model_json_schema]()`.</span>
</span><span id="__span-0-325"><a id="__codelineno-0-325" name="__codelineno-0-325"></a>
</span><span id="__span-0-326"><a id="__codelineno-0-326" name="__codelineno-0-326"></a><span style="color: #616e87">    This recursively follows the references to other schemas in case</span>
</span><span id="__span-0-327"><a id="__codelineno-0-327" name="__codelineno-0-327"></a><span style="color: #616e87">    of nested models. Other schemas are stored under the &quot;definitions&quot;</span>
</span><span id="__span-0-328"><a id="__codelineno-0-328" name="__codelineno-0-328"></a><span style="color: #616e87">    key in the schema of the top-level model.</span>
</span><span id="__span-0-329"><a id="__codelineno-0-329" name="__codelineno-0-329"></a>
</span><span id="__span-0-330"><a id="__codelineno-0-330" name="__codelineno-0-330"></a><span style="color: #616e87">    &quot;&quot;&quot;</span>
</span><span id="__span-0-331"><a id="__codelineno-0-331" name="__codelineno-0-331"></a>    <span style="color: #d8dee9">simple_schema</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #eceff4">{}</span>
</span><span id="__span-0-332"><a id="__codelineno-0-332" name="__codelineno-0-332"></a>    <span style="color: #81a1c1; font-weight: bold">for</span> <span style="color: #d8dee9">name</span><span style="color: #eceff4">,</span> <span style="color: #d8dee9">value</span> <span style="color: #81a1c1; font-weight: bold">in</span> <span style="color: #d8dee9">raw_schema</span><span style="color: #eceff4">[</span><span style="color: #a3be8c">&quot;properties&quot;</span><span style="color: #eceff4">]</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">items</span><span style="color: #eceff4">():</span>
</span><span id="__span-0-333"><a id="__codelineno-0-333" name="__codelineno-0-333"></a>        <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #a3be8c">&quot;description&quot;</span> <span style="color: #81a1c1; font-weight: bold">in</span> <span style="color: #d8dee9">value</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-334"><a id="__codelineno-0-334" name="__codelineno-0-334"></a>            <span style="color: #d8dee9">simple_schema</span><span style="color: #eceff4">[</span><span style="color: #d8dee9">name</span><span style="color: #eceff4">]</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">value</span><span style="color: #eceff4">[</span><span style="color: #a3be8c">&quot;description&quot;</span><span style="color: #eceff4">]</span>
</span><span id="__span-0-335"><a id="__codelineno-0-335" name="__codelineno-0-335"></a>        <span style="color: #81a1c1; font-weight: bold">elif</span> <span style="color: #a3be8c">&quot;$ref&quot;</span> <span style="color: #81a1c1; font-weight: bold">in</span> <span style="color: #d8dee9">value</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-336"><a id="__codelineno-0-336" name="__codelineno-0-336"></a>            <span style="color: #d8dee9">refs</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">value</span><span style="color: #eceff4">[</span><span style="color: #a3be8c">&quot;$ref&quot;</span><span style="color: #eceff4">]</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">split</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&quot;/&quot;</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-337"><a id="__codelineno-0-337" name="__codelineno-0-337"></a>            <span style="color: #d8dee9">simple_schema</span><span style="color: #eceff4">[</span><span style="color: #d8dee9">name</span><span style="color: #eceff4">]</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">parse_pydantic_schema</span><span style="color: #eceff4">(</span>
</span><span id="__span-0-338"><a id="__codelineno-0-338" name="__codelineno-0-338"></a>                <span style="color: #d8dee9">definitions</span><span style="color: #eceff4">[</span><span style="color: #d8dee9">refs</span><span style="color: #eceff4">[</span><span style="color: #b48ead">2</span><span style="color: #eceff4">]],</span> <span style="color: #d8dee9">definitions</span>
</span><span id="__span-0-339"><a id="__codelineno-0-339" name="__codelineno-0-339"></a>            <span style="color: #eceff4">)</span>
</span><span id="__span-0-340"><a id="__codelineno-0-340" name="__codelineno-0-340"></a>        <span style="color: #81a1c1; font-weight: bold">else</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-341"><a id="__codelineno-0-341" name="__codelineno-0-341"></a>            <span style="color: #d8dee9">simple_schema</span><span style="color: #eceff4">[</span><span style="color: #d8dee9">name</span><span style="color: #eceff4">]</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #a3be8c">f&quot;&lt;{</span><span style="color: #d8dee9">name</span><span style="color: #a3be8c">}&gt;&quot;</span>
</span><span id="__span-0-342"><a id="__codelineno-0-342" name="__codelineno-0-342"></a>
</span><span id="__span-0-343"><a id="__codelineno-0-343" name="__codelineno-0-343"></a>    <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #d8dee9">simple_schema</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="outlines.prompts.prompt" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #d8dee9">prompt</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Decorate a function that contains a prompt template.</p>
<p>This allows to define prompts in the docstring of a function and simplify their
manipulation by providing some degree of encapsulation. It uses the <code>render</code>
function internally to render templates.</p>
<blockquote>
<blockquote>
<blockquote>
<p>import outlines</p>
<p>@outlines.prompt
def build_prompt(question):
...    "I have a ${question}"
...
prompt = build_prompt("How are you?")</p>
</blockquote>
</blockquote>
</blockquote>
<p>This API can also be helpful in an "agent" context where parts of the prompt
are set when the agent is initialized and never modified later. In this situation
we can partially apply the prompt function at initialization.</p>
<blockquote>
<blockquote>
<blockquote>
<p>import outlines
import functools as ft
...
@outlines.prompt
... def solve_task(name: str, objective: str, task: str):
...     '''Your name is {{name}}.
..      Your overall objective is to {{objective}}.
...     Please solve the following task: {{task}}
...     '''
...
hal = ft.partial(solve_task, "HAL", "Travel to Jupiter")</p>
</blockquote>
</blockquote>
</blockquote>
<h4 id="outlines.prompts.prompt--returns">Returns</h4>
<p>A <code>Prompt</code> callable class which will render the template when called.</p>

            <details class="quote">
              <summary>Source code in <code>outlines/prompts.py</code></summary>
              <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-45">45</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-46">46</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-47">47</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-48">48</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-49">49</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-50">50</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-51">51</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-52">52</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-53">53</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-54">54</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-55">55</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-56">56</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-57">57</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-58">58</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-59">59</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-60">60</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-61">61</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-62">62</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-63">63</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-64">64</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-65">65</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-66">66</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-67">67</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-68">68</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-69">69</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-70">70</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-71">71</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-72">72</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-73">73</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-74">74</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-75">75</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-76">76</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-77">77</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-78">78</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-79">79</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-80">80</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-81">81</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-82">82</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-83">83</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-84">84</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-85">85</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-86">86</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-87">87</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-88">88</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-89">89</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-90">90</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-91">91</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-92">92</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45"></a><span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">prompt</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">:</span> <span style="color: #d8dee9">Callable</span><span style="color: #eceff4">)</span> <span style="color: #81a1c1; font-weight: bold">-&gt;</span> <span style="color: #d8dee9">Prompt</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46"></a><span style="color: #d8dee9">    </span><span style="color: #616e87">&quot;&quot;&quot;Decorate a function that contains a prompt template.</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47"></a>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48"></a><span style="color: #616e87">    This allows to define prompts in the docstring of a function and simplify their</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49"></a><span style="color: #616e87">    manipulation by providing some degree of encapsulation. It uses the `render`</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50"></a><span style="color: #616e87">    function internally to render templates.</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51"></a>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52"></a><span style="color: #616e87">    &gt;&gt;&gt; import outlines</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53"></a><span style="color: #616e87">    &gt;&gt;&gt;</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54"></a><span style="color: #616e87">    &gt;&gt;&gt; @outlines.prompt</span>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55"></a><span style="color: #616e87">    &gt;&gt;&gt; def build_prompt(question):</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56"></a><span style="color: #616e87">    ...    &quot;I have a ${question}&quot;</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57"></a><span style="color: #616e87">    ...</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58"></a><span style="color: #616e87">    &gt;&gt;&gt; prompt = build_prompt(&quot;How are you?&quot;)</span>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59"></a>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60"></a><span style="color: #616e87">    This API can also be helpful in an &quot;agent&quot; context where parts of the prompt</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61"></a><span style="color: #616e87">    are set when the agent is initialized and never modified later. In this situation</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62"></a><span style="color: #616e87">    we can partially apply the prompt function at initialization.</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63"></a>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64"></a><span style="color: #616e87">    &gt;&gt;&gt; import outlines</span>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65"></a><span style="color: #616e87">    &gt;&gt;&gt; import functools as ft</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66"></a><span style="color: #616e87">    ...</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67"></a><span style="color: #616e87">    &gt;&gt;&gt; @outlines.prompt</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68"></a><span style="color: #616e87">    ... def solve_task(name: str, objective: str, task: str):</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69"></a><span style="color: #616e87">    ...     &#39;&#39;&#39;Your name is {{name}}.</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70"></a><span style="color: #616e87">    ..      Your overall objective is to {{objective}}.</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71"></a><span style="color: #616e87">    ...     Please solve the following task: {{task}}</span>
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72"></a><span style="color: #616e87">    ...     &#39;&#39;&#39;</span>
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73"></a><span style="color: #616e87">    ...</span>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74"></a><span style="color: #616e87">    &gt;&gt;&gt; hal = ft.partial(solve_task, &quot;HAL&quot;, &quot;Travel to Jupiter&quot;)</span>
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75"></a>
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76"></a><span style="color: #616e87">    Returns</span>
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77"></a><span style="color: #616e87">    -------</span>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78"></a><span style="color: #616e87">    A `Prompt` callable class which will render the template when called.</span>
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79"></a>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80"></a><span style="color: #616e87">    &quot;&quot;&quot;</span>
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81"></a>
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82"></a>    <span style="color: #d8dee9">signature</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">inspect</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">signature</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">fn</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83"></a>
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84"></a>    <span style="color: #616e87; font-style: italic"># The docstring contains the template that will be rendered to be used</span>
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85"></a>    <span style="color: #616e87; font-style: italic"># as a prompt to the language model.</span>
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86"></a>    <span style="color: #d8dee9">docstring</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">fn</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">__doc__</span>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87"></a>    <span style="color: #81a1c1; font-weight: bold">if</span> <span style="color: #d8dee9">docstring</span> <span style="color: #81a1c1; font-weight: bold">is</span> <span style="color: #81a1c1; font-weight: bold">None</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88"></a>        <span style="color: #81a1c1; font-weight: bold">raise</span> <span style="color: #bf616a">TypeError</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&quot;Could not find a template in the function&#39;s docstring.&quot;</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89"></a>
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90"></a>    <span style="color: #d8dee9">template</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">cast</span><span style="color: #eceff4">(</span><span style="color: #81a1c1">str</span><span style="color: #eceff4">,</span> <span style="color: #d8dee9">docstring</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91"></a>
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92"></a>    <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #d8dee9">Prompt</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">template</span><span style="color: #eceff4">,</span> <span style="color: #d8dee9">signature</span><span style="color: #eceff4">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="outlines.prompts.render" class="doc doc-heading">
            <code class="highlight language-python"><span style="color: #d8dee9">render</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">template</span><span style="color: #eceff4">,</span> <span style="color: #81a1c1; font-weight: bold">**</span><span style="color: #d8dee9">values</span><span style="color: #eceff4">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Parse a Jinaj2 template and translate it into an Outlines graph.</p>
<p>This function removes extra whitespaces and linebreaks from templates to
allow users to enter prompts more naturally than if they used Python's
constructs directly. See the examples for a detailed explanation.</p>
<h4 id="outlines.prompts.render--examples">Examples</h4>
<p>Outlines follow Jinja2's syntax</p>
<blockquote>
<blockquote>
<blockquote>
<p>import outlines
outline = outlines.render("I like {{food}} and {{sport}}", food="tomatoes", sport="tennis")
I like tomatoes and tennis</p>
</blockquote>
</blockquote>
</blockquote>
<p>If the first line of the template is empty, <code>render</code> removes it</p>
<blockquote>
<blockquote>
<blockquote>
<p>from outlines import render</p>
<p>tpl = '''
... A new string'''
tpl
... '\nA new string'
render(tpl)
... 'a new string'</p>
</blockquote>
</blockquote>
</blockquote>
<p>Similarly, <code>render</code> ignores linebreaks introduced by placing the closing quotes
underneath the text:</p>
<blockquote>
<blockquote>
<blockquote>
<p>tpl = '''
... A new string
... '''
tpl
... '\nA new string\n'
render(tpl)
... 'A new string'</p>
</blockquote>
</blockquote>
</blockquote>
<p>If you want to insert a linebreak at the end of the rendered template, you will
need to leave an empty line at the end of the template:</p>
<blockquote>
<blockquote>
<blockquote>
<p>tpl = '''
... A new string
...
... '''
tpl
... '\nA new string\n\n'
render(tpl)
... 'A new string\n'</p>
</blockquote>
</blockquote>
</blockquote>
<p><code>render</code> removes the identation in docstrings. This is particularly important
when using prompt functions</p>
<blockquote>
<blockquote>
<blockquote>
<p>tpl = '''
...    a string
...    and another string'''
tpl
... '\n   a string\n   and another string'
render(tpl)
... 'a string\nand another string'</p>
</blockquote>
</blockquote>
</blockquote>
<p>The indentation of the first line is assumed to be the same as the second line's</p>
<blockquote>
<blockquote>
<blockquote>
<p>tpl = '''a string
...     and another'''
tpl
... 'a string\n    and another'
render(tpl)
... 'a string\nand another'</p>
</blockquote>
</blockquote>
</blockquote>
<p>To get a different indentation for the first and the second line, we can start the
prompt on the string's second line:</p>
<blockquote>
<blockquote>
<blockquote>
<p>tpl = '''
... First line
...   Second line'''
render(tpl)
... 'First Line\n  Second Line'</p>
</blockquote>
</blockquote>
</blockquote>
<h4 id="outlines.prompts.render--parameters">Parameters</h4>
<p>template
    A string that contains a template written with the Jinja2 syntax.
**values
    Map from the variables in the template to their value.</p>
<h4 id="outlines.prompts.render--returns">Returns</h4>
<p>A string that contains the rendered template.</p>

            <details class="quote">
              <summary>Source code in <code>outlines/prompts.py</code></summary>
              <div class="language-python highlight" style="background: #2E3440"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-95"> 95</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-96"> 96</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-97"> 97</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-98"> 98</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-99"> 99</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-100">100</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-101">101</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-102">102</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-103">103</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-104">104</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-105">105</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-106">106</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-107">107</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-108">108</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-109">109</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-110">110</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-111">111</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-112">112</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-113">113</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-114">114</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-115">115</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-116">116</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-117">117</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-118">118</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-119">119</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-120">120</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-121">121</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-122">122</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-123">123</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-124">124</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-125">125</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-126">126</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-127">127</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-128">128</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-129">129</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-130">130</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-131">131</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-132">132</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-133">133</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-134">134</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-135">135</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-136">136</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-137">137</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-138">138</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-139">139</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-140">140</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-141">141</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-142">142</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-143">143</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-144">144</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-145">145</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-146">146</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-147">147</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-148">148</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-149">149</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-150">150</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-151">151</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-152">152</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-153">153</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-154">154</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-155">155</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-156">156</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-157">157</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-158">158</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-159">159</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-160">160</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-161">161</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-162">162</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-163">163</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-164">164</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-165">165</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-166">166</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-167">167</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-168">168</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-169">169</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-170">170</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-171">171</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-172">172</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-173">173</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-174">174</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-175">175</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-176">176</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-177">177</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-178">178</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-179">179</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-180">180</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-181">181</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-182">182</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-183">183</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-184">184</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-185">185</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-186">186</a></span>
<span style="color: #D8DEE9; background-color: #242933; padding-left: 5px; padding-right: 5px;"><a href="#__codelineno-0-187">187</a></span></pre></div></td><td class="code"><div><pre style="line-height: 125%;"><span></span><code><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95"></a><span style="color: #81a1c1; font-weight: bold">def</span> <span style="color: #88c0d0">render</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">template</span><span style="color: #eceff4">:</span> <span style="color: #81a1c1">str</span><span style="color: #eceff4">,</span> <span style="color: #81a1c1; font-weight: bold">**</span><span style="color: #d8dee9">values</span><span style="color: #eceff4">:</span> <span style="color: #d8dee9">Optional</span><span style="color: #eceff4">[</span><span style="color: #d8dee9">Dict</span><span style="color: #eceff4">[</span><span style="color: #81a1c1">str</span><span style="color: #eceff4">,</span> <span style="color: #d8dee9">Any</span><span style="color: #eceff4">]])</span> <span style="color: #81a1c1; font-weight: bold">-&gt;</span> <span style="color: #81a1c1">str</span><span style="color: #eceff4">:</span>
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96"></a><span style="color: #d8dee9">    </span><span style="color: #a3be8c">r</span><span style="color: #616e87">&quot;&quot;&quot;Parse a Jinaj2 template and translate it into an Outlines graph.</span>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97"></a>
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98"></a><span style="color: #616e87">    This function removes extra whitespaces and linebreaks from templates to</span>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99"></a><span style="color: #616e87">    allow users to enter prompts more naturally than if they used Python&#39;s</span>
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100"></a><span style="color: #616e87">    constructs directly. See the examples for a detailed explanation.</span>
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101"></a>
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102"></a><span style="color: #616e87">    Examples</span>
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103"></a><span style="color: #616e87">    --------</span>
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104"></a>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105"></a><span style="color: #616e87">    Outlines follow Jinja2&#39;s syntax</span>
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106"></a>
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107"></a><span style="color: #616e87">    &gt;&gt;&gt; import outlines</span>
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108"></a><span style="color: #616e87">    &gt;&gt;&gt; outline = outlines.render(&quot;I like {{food}} and {{sport}}&quot;, food=&quot;tomatoes&quot;, sport=&quot;tennis&quot;)</span>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109"></a><span style="color: #616e87">    I like tomatoes and tennis</span>
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110"></a>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111"></a><span style="color: #616e87">    If the first line of the template is empty, `render` removes it</span>
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112"></a>
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113"></a><span style="color: #616e87">    &gt;&gt;&gt; from outlines import render</span>
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114"></a><span style="color: #616e87">    &gt;&gt;&gt;</span>
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115"></a><span style="color: #616e87">    &gt;&gt;&gt; tpl = &#39;&#39;&#39;</span>
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116"></a><span style="color: #616e87">    ... A new string&#39;&#39;&#39;</span>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117"></a><span style="color: #616e87">    &gt;&gt;&gt; tpl</span>
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118"></a><span style="color: #616e87">    ... &#39;\nA new string&#39;</span>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119"></a><span style="color: #616e87">    &gt;&gt;&gt; render(tpl)</span>
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120"></a><span style="color: #616e87">    ... &#39;a new string&#39;</span>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121"></a>
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122"></a><span style="color: #616e87">    Similarly, `render` ignores linebreaks introduced by placing the closing quotes</span>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123"></a><span style="color: #616e87">    underneath the text:</span>
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124"></a>
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125"></a><span style="color: #616e87">    &gt;&gt;&gt; tpl = &#39;&#39;&#39;</span>
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126"></a><span style="color: #616e87">    ... A new string</span>
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127"></a><span style="color: #616e87">    ... &#39;&#39;&#39;</span>
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128"></a><span style="color: #616e87">    &gt;&gt;&gt; tpl</span>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129"></a><span style="color: #616e87">    ... &#39;\nA new string\n&#39;</span>
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130"></a><span style="color: #616e87">    &gt;&gt;&gt; render(tpl)</span>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131"></a><span style="color: #616e87">    ... &#39;A new string&#39;</span>
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132"></a>
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133"></a><span style="color: #616e87">    If you want to insert a linebreak at the end of the rendered template, you will</span>
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134"></a><span style="color: #616e87">    need to leave an empty line at the end of the template:</span>
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135"></a>
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136"></a><span style="color: #616e87">    &gt;&gt;&gt; tpl = &#39;&#39;&#39;</span>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137"></a><span style="color: #616e87">    ... A new string</span>
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138"></a><span style="color: #616e87">    ...</span>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139"></a><span style="color: #616e87">    ... &#39;&#39;&#39;</span>
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140"></a><span style="color: #616e87">    &gt;&gt;&gt; tpl</span>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141"></a><span style="color: #616e87">    ... &#39;\nA new string\n\n&#39;</span>
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142"></a><span style="color: #616e87">    &gt;&gt;&gt; render(tpl)</span>
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143"></a><span style="color: #616e87">    ... &#39;A new string\n&#39;</span>
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144"></a>
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145"></a><span style="color: #616e87">    `render` removes the identation in docstrings. This is particularly important</span>
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146"></a><span style="color: #616e87">    when using prompt functions</span>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147"></a>
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148"></a><span style="color: #616e87">    &gt;&gt;&gt; tpl = &#39;&#39;&#39;</span>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149"></a><span style="color: #616e87">    ...    a string</span>
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150"></a><span style="color: #616e87">    ...    and another string&#39;&#39;&#39;</span>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151"></a><span style="color: #616e87">    &gt;&gt;&gt; tpl</span>
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152"></a><span style="color: #616e87">    ... &#39;\n   a string\n   and another string&#39;</span>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153"></a><span style="color: #616e87">    &gt;&gt;&gt; render(tpl)</span>
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154"></a><span style="color: #616e87">    ... &#39;a string\nand another string&#39;</span>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155"></a>
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156"></a><span style="color: #616e87">    The indentation of the first line is assumed to be the same as the second line&#39;s</span>
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157"></a>
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158"></a><span style="color: #616e87">    &gt;&gt;&gt; tpl = &#39;&#39;&#39;a string</span>
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159"></a><span style="color: #616e87">    ...     and another&#39;&#39;&#39;</span>
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160"></a><span style="color: #616e87">    &gt;&gt;&gt; tpl</span>
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161"></a><span style="color: #616e87">    ... &#39;a string\n    and another&#39;</span>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162"></a><span style="color: #616e87">    &gt;&gt;&gt; render(tpl)</span>
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163"></a><span style="color: #616e87">    ... &#39;a string\nand another&#39;</span>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164"></a>
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165"></a><span style="color: #616e87">    To get a different indentation for the first and the second line, we can start the</span>
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166"></a><span style="color: #616e87">    prompt on the string&#39;s second line:</span>
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167"></a>
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168"></a><span style="color: #616e87">    &gt;&gt;&gt; tpl = &#39;&#39;&#39;</span>
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169"></a><span style="color: #616e87">    ... First line</span>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170"></a><span style="color: #616e87">    ...   Second line&#39;&#39;&#39;</span>
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171"></a><span style="color: #616e87">    &gt;&gt;&gt; render(tpl)</span>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172"></a><span style="color: #616e87">    ... &#39;First Line\n  Second Line&#39;</span>
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173"></a>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174"></a><span style="color: #616e87">    Parameters</span>
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175"></a><span style="color: #616e87">    ----------</span>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176"></a><span style="color: #616e87">    template</span>
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177"></a><span style="color: #616e87">        A string that contains a template written with the Jinja2 syntax.</span>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178"></a><span style="color: #616e87">    **values</span>
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179"></a><span style="color: #616e87">        Map from the variables in the template to their value.</span>
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180"></a>
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181"></a><span style="color: #616e87">    Returns</span>
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182"></a><span style="color: #616e87">    -------</span>
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183"></a><span style="color: #616e87">    A string that contains the rendered template.</span>
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184"></a>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185"></a><span style="color: #616e87">    &quot;&quot;&quot;</span>
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186"></a>    <span style="color: #d8dee9">jinja_template</span> <span style="color: #81a1c1; font-weight: bold">=</span> <span style="color: #d8dee9">create_jinja_template</span><span style="color: #eceff4">(</span><span style="color: #d8dee9">template</span><span style="color: #eceff4">)</span>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187"></a>    <span style="color: #81a1c1; font-weight: bold">return</span> <span style="color: #d8dee9">jinja_template</span><span style="color: #81a1c1; font-weight: bold">.</span><span style="color: #d8dee9">render</span><span style="color: #eceff4">(</span><span style="color: #81a1c1; font-weight: bold">**</span><span style="color: #d8dee9">values</span><span style="color: #eceff4">)</span>
</span></code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-11-16T13:12:53+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-11-16</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2023-11-12T19:51:33+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-11-12</span>
  </span>

    
    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/rlouf" class="md-author" title="@rlouf">
          
          <img src="https://avatars.githubusercontent.com/u/3885044?v=4&size=72" alt="rlouf">
        </a>
      
        <a href="https://github.com/web-flow" class="md-author" title="@web-flow">
          
          <img src="https://avatars.githubusercontent.com/u/19864447?v=4&size=72" alt="web-flow">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>


  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023- The Outlines Developers
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/dottxt-ai" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/remilouf" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.expand", "navigation.tabs", "navigation.sections", "header.autohide", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../js/timeago.min.js"></script>
      
        <script src="../../js/timeago_mkdocs_material.js"></script>
      
    
  </body>
</html>