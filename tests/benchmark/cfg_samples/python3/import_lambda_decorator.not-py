import os
from functools import lru_cache

foo = lambda x: print(x)


@pytest.mark.parametrize("schema_name", schemas.keys())
def test_benchmark_json_schema_to_regex(benchmark, ensure_numba_compiled, schema_name):
    schema = schemas[schema_name]
    benchmark.pedantic(
        build_regex_from_object,
        args=(schema,),
        rounds=8,
    )
